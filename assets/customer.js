const selectors={customerAddresses:"[data-customer-addresses]",addressCountrySelect:"[data-address-country-select]",addressContainer:"[data-address]",toggleAddressButton:"button[aria-expanded]",cancelAddressButton:'button[type="reset"]',deleteAddressButton:"button[data-confirm-message]"},attributes={expanded:"aria-expanded",confirmMessage:"data-confirm-message"};class CustomerAddresses{constructor(){this.elements=this._getElements(),0!==Object.keys(this.elements).length&&(this._setupCountries(),this._setupEventListeners())}_getElements(){const container=document.querySelector(selectors.customerAddresses);return container?{container:container,addressContainer:container.querySelector(selectors.addressContainer),toggleButtons:document.querySelectorAll(selectors.toggleAddressButton),cancelButtons:container.querySelectorAll(selectors.cancelAddressButton),deleteButtons:container.querySelectorAll(selectors.deleteAddressButton),countrySelects:container.querySelectorAll(selectors.addressCountrySelect)}:{}}_setupCountries(){Shopify&&Shopify.CountryProvinceSelector&&(new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.elements.countrySelects.forEach(select=>{const formId=select.dataset.formId;new Shopify.CountryProvinceSelector(`AddressCountry_${formId}`,`AddressProvince_${formId}`,{hideElement:`AddressProvinceContainer_${formId}`})}))}_setupEventListeners(){this.elements.toggleButtons.forEach(element=>{element.addEventListener("click",this._handleAddEditButtonClick)}),this.elements.cancelButtons.forEach(element=>{element.addEventListener("click",this._handleCancelButtonClick)}),this.elements.deleteButtons.forEach(element=>{element.addEventListener("click",this._handleDeleteButtonClick)})}_toggleExpanded(target){target.setAttribute(attributes.expanded,("false"===target.getAttribute(attributes.expanded)).toString())}_handleAddEditButtonClick=({currentTarget:currentTarget})=>{this._toggleExpanded(currentTarget)};_handleCancelButtonClick=({currentTarget:currentTarget})=>{this._toggleExpanded(currentTarget.closest(selectors.addressContainer).querySelector(`[${attributes.expanded}]`))};_handleDeleteButtonClick=({currentTarget:currentTarget})=>{confirm(currentTarget.getAttribute(attributes.confirmMessage))&&Shopify.postLink(currentTarget.dataset.target,{parameters:{_method:"delete"}})}}